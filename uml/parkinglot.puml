@startuml parkinglot
skinparam Shadowing false
skinparam class {
    BackgroundColor PaleTurquoise 
    ArrowCollor SeaGreen
}

package parkingboy <<Aggregate>> {
    class ParkingBoy <<Entity>> <<Aggregate Root>>{
        -ParkingBoyId id
        -List<String> parkingLotIds
        --
        +Ticket park(String carId)
    }

    interface ParkingStrategy  {
        Optional<ParkingLot> find(List<ParkingLot> parkingLots)
    }

    class GeneralParkingStrategy <<Value Object>> {
        +Optional<ParkingLot> find(List<ParkingLot> parkingLots)
    }

    ParkingBoy -> ParkingStrategy
    GeneralParkingStrategy *-- ParkingStrategy
}


package parkinglot <<Aggregate>> {
    class ParkingLot <<Entity>> <<Aggregate Root>> {
        -ParkingLotId id
        -Map<TicketId, Car> ticketToCarMap
        --
        +Ticket park(Car car)
        +Car pick(TicketId ticketId)
    }

    class Ticket <<Entity>> {
        -TicketId id
        -String carId
        -String parkingLotId
    }

    class Car <<Value Object>> {
        -String licensePlate
    }

    ParkingLot "1" o-- "1..*" Ticket
    ParkingLot "1" -> "1..*" Car
}

ParkingBoy "1" o-- "1..*" ParkingLot

@enduml